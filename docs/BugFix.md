# 修复

- [x] 修复 `Calico` 在使用时, 无法与 `Etcd` 进行通信。
- [x] 脚本绝大部分使用 `Shell` 执行, 后期重构统一使用模块解决跨平台执行。
- [x] 修复 `Calico` 在使用时, 无法识别宿主机网卡, 造成无法通信的问题。
- [x] 修复 `Bootstrap` 无法创建凭证的问题。
- [x] 修复 `Swap` 如果打开情况下的优化配置, `v1.14.2.5` 中修复。
- [x] 修复 `Ubuntu IPVS` 模式下无法跨主机访问问。`v1.14.2.9` 中修复。
- [x] 修复 `Kubernetes` 添加节点时, 无法获取真实的宿主机 IP 地址, `v1.15.0.1` 中修复。
- [x] 修复 `CNI` 容器部署 `Download Plugin` 位置错误。`v1.15.0.2` 中修复。(之前版本实际不受影响, `Calico` 有自己的初始化 `Plugin` 部署方式) 
- [x] 修复 `kubelet` 重新加入集群时, 证书无效的问题, `v1.15.0.3` 中修复。
- [x] 修复添加 `Master` 节点时, `HaProxy` 没有及时更新新节点问题, `v1.15.0.5` 中修复。
- [x] 修复 `Add Etcd` 节点时, 没有更新 `Kubu apiServer` 和 `Calico`、`Etcd` 服务的配置信息, `v1.15.0.6` 中修复。
- [x] 修复 `Proxy` 中使用 `Keepalived` 通过 `VIP` 访问 `nodePort` 模式的服务时流量不可达的问题, `v1.15.3.5` 中修复。
- [x] 修复 `Kubelet` 中的 `Cgroup` 与 `Docker` 版本兼容报错的问题, `v1.15.3.6` 中修复。
- [x] 修复 `镜像` 部署模式中重复导入镜像/二进制文件的问题, `v1.16.1.3` 中修复。
- [x] 修复 `docker` 安装时, 如果本地有集群外的服务(`daemon.json` 文件一致), 会停止服务的问题, `v1.16.1.3` 中修复。
- [x] 修复 `v1.16.x` 中取消 `apiVersion: extensions/v1beta1`  的问题, `v1.16.1.1` 中修复。
- [x] 修复 `TZ` 时区问题, 由于是挂载宿主机 `/usr/share/zoneinfo` 目录所以一定要保证此目录存在, `v1.16.1.4` 中修复。
- [x] 修复 `Crane` 部署版本存在服务版本问题, 统一镜像方式部署的版本强一致, `v1.16.2.2` 中修复。
- [x] 修复 `v1.16.2.3` 中无法对 `Kubernetes etc` 目录的清除操作, 造成遗留历史配置造成无法加入新集群或重新部署集群的问题, `v1.16.2.4` 中修复。
- [ ] 修复 main.yml => containerd (kube-api 等服务端口占用)。
- [ ] 修复 add_master.yml => node 无法直接升级 master，它实际上是直接从头安装。
- [ ] 修复 无法直接移除 kubernetes master 节点。
- [ ] 修复 删除 docker 时, 判定是否删除 containerd。