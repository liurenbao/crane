---
- hosts: localhost
  gather_facts: false
  vars_files:
    - "roles/local-task/defaults/main.yml"
  roles:
    - { role: local-task }
  tasks:
    - debug: msg="Document Description [https://github.com/slzcc/crane/blob/master/docs/K8S_SETUP_OPEN_SCHEDULE.md]"

- name: Turn on Cluster Scheduling
  hosts: kube-master[0]
  become: yes
  become_method: sudo
  vars:
    ansible_ssh_pipelining: true
  vars_files:
    - "roles/crane/defaults/main.yml"
    - "roles/kubernetes-cluster-management/defaults/configure.yaml"
    - "roles/downloads-ssh-key/defaults/main.yml"
  tasks:
    - { include: 'roles/kubernetes-upgrade/includes/nodes/node-schedule.yaml' }